---
infoSchema: 0.1
info:
  title: "Заголовок агрегата"
  description: "Общий набор фиксированных свойств для агрегатов"
  version: 0.1
  contact:
    name: "Alexander Ostankov"
    email: "aor.48ru@gmail.com"
  summary: "Попытка переосмысления задачи управления номенклатурой через использов\
    ание ISD"
type: "object"
iuType: "aggregate"
properties:
  uid:
    title: "Глобальный идентификатор объекта агрегата"
    type: "string"
    format: "uuid"
  name:
    title: "Наименование объекта агрегата (краткое)"
    type: "string"
  code:
    title: "Код объекта агрегата"
    type: "string"
  descr:
    title: "Наименование объекта агрегата (полное)"
    type: "string"
  comm:
    title: "Пояснение к объекту"
    type: "string"
  instanceStatus:
    title: "Статус экземпляра объекта"
    type: "string"
    enum:
    - "DUMMY"
    - "EFFECTIVE"
    - "REMOVED"
  lastChange:
    title: "Момент последнего изменения объекта"
    type: "string"
    format: "timestamp"
  changeSource:
    title: "Источник последнего изменения объекта"
    type: "string"
  merchStatus:
    title: "Статус номенклатурной позиции"
    type: "string"
    enum:
    - "ACTIVE"
    - "INACTIVE"
  brand:
    title: "Торговая марка производителя"
    infoSchema: 0.1
    info:
      title: "Заголовок агрегата"
      description: "Общий набор фиксированных свойств для агрегатов"
      version: 0.1
      contact:
        name: "Alexander Ostankov"
        email: "aor.48ru@gmail.com"
      summary: "Попытка переосмысления задачи управления номенклатурой через испол\
        ьзование ISD"
    type: "object"
    iuType: "aggregate"
    properties:
      uid:
        title: "Глобальный идентификатор объекта агрегата"
        type: "string"
        format: "uuid"
      name:
        title: "Наименование объекта агрегата (краткое)"
        type: "string"
      code:
        title: "Код объекта агрегата"
        type: "string"
      descr:
        title: "Наименование объекта агрегата (полное)"
        type: "string"
      comm:
        title: "Пояснение к объекту"
        type: "string"
      instanceStatus:
        title: "Статус экземпляра объекта"
        type: "string"
        enum:
        - "DUMMY"
        - "EFFECTIVE"
        - "REMOVED"
      lastChange:
        title: "Момент последнего изменения объекта"
        type: "string"
        format: "timestamp"
      changeSource:
        title: "Источник последнего изменения объекта"
        type: "string"
      vendorId:
        title: "Производитель"
        type: "string"
        nullable: false
      vendorName:
        title: "Имя производителя"
        type: "string"
    iuPriKey:
    - "uid"
  baseUOM:
    title: "Базовая единица измерения"
    description: "Единица измерения в которой ведётся учёт товара"
    infoSchema: 0.1
    info:
      title: "Заголовок агрегата"
      description: "Общий набор фиксированных свойств для агрегатов"
      version: 0.1
      contact:
        name: "Alexander Ostankov"
        email: "aor.48ru@gmail.com"
      summary: "Попытка переосмысления задачи управления номенклатурой через испол\
        ьзование ISD"
    type: "object"
    iuType: "aggregate"
    properties:
      uid:
        title: "Глобальный идентификатор объекта агрегата"
        type: "string"
        format: "uuid"
      name:
        title: "Наименование объекта агрегата (краткое)"
        type: "string"
      code:
        title: "Код объекта агрегата"
        type: "string"
      descr:
        title: "Наименование объекта агрегата (полное)"
        type: "string"
      comm:
        title: "Пояснение к объекту"
        type: "string"
      instanceStatus:
        title: "Статус экземпляра объекта"
        type: "string"
        enum:
        - "DUMMY"
        - "EFFECTIVE"
        - "REMOVED"
      lastChange:
        title: "Момент последнего изменения объекта"
        type: "string"
        format: "timestamp"
      changeSource:
        title: "Источник последнего изменения объекта"
        type: "string"
      baseUOM:
        title: "Базовая единица измерения"
        type: "integer"
        description: "Пересчёт: Одна текущаяЕМ = (Num/Denom) базовыхЕМ"
        iuReference: "self"
      baseNum:
        title: "Числитель пересчёта"
        type: "number"
      baseDenom:
        title: "Знаменатель пересчёта"
        type: "number"
    iuPriKey:
    - "uid"
  categoryList:
    $anchor: "categoryList"
    title: "Набор товарных групп"
    type: "object"
    iuType: "referenceMap"
    iuRefObject:
      iuName: "categoryRef"
      infoSchema: 0.1
      info:
        title: "Заголовок агрегата"
        description: "Общий набор фиксированных свойств для агрегатов"
        version: 0.1
        contact:
          name: "Alexander Ostankov"
          email: "aor.48ru@gmail.com"
        summary: "Попытка переосмысления задачи управления номенклатурой через исп\
          ользование ISD"
      type: "object"
      iuType: "aggregate"
      properties:
        uid:
          title: "Глобальный идентификатор объекта агрегата"
          type: "string"
          format: "uuid"
        name:
          title: "Наименование объекта агрегата (краткое)"
          type: "string"
        code:
          title: "Код объекта агрегата"
          type: "string"
        descr:
          title: "Наименование объекта агрегата (полное)"
          type: "string"
        comm:
          title: "Пояснение к объекту"
          type: "string"
        instanceStatus:
          title: "Статус экземпляра объекта"
          type: "string"
          enum:
          - "DUMMY"
          - "EFFECTIVE"
          - "REMOVED"
        lastChange:
          title: "Момент последнего изменения объекта"
          type: "string"
          format: "timestamp"
        changeSource:
          title: "Источник последнего изменения объекта"
          type: "string"
        categoryStatus:
          title: "Статус категории"
          type: "string"
          enum:
          - "SHOW"
          - "HIDE"
        categoryRole:
          title: "Роль категории в каталоге"
          type: "string"
        parentCategory:
          title: "Родительская категория"
          iuReference: "self"
        listPosition:
          title: "Относительная позиция в папке родительской категории"
          type: "number"
        keyProps:
          infoSchema: 0.1
          info:
            title: "Характеристики товарной позиции"
            description: "Перечень атрибутов, использующихся в качестве харктерист\
              ик ТП"
            version: 0.1
            contact:
              name: "Alexander Ostankov"
              email: "aor.48ru@gmail.com"
            summary: "Попытка переосмысления задачи управления номенклатурой через\
              \ использование ISD"
          type: "object"
          properties:
            chColor:
              title: "Цвет"
              type: "string"
            chSize:
              title: "Размер"
              type: "string"
        iuIncludeRest: "keyProps"
      iuPriKey:
      - "uid"
    iuMapValues:
      type: "object"
      properties:
        listPosition:
          title: "Относительная позиция в списке данной категории"
          type: "number"
        listRole:
          title: "Роль товара в данной группе"
          infoSchema: 0.1
          info:
            title: "Перечень ролей позиций в товарных каталогах"
            description: "Определяет вид отображения товара (иконку) в перечне тов\
              арного каталога"
            version: 0.1
            contact:
              name: "Alexander Ostankov"
              email: "aor.48ru@gmail.com"
            summary: "Попытка переосмысления задачи управления номенклатурой через\
              \ использование ISD"
          type: "string"
          iuEnumProperties:
            enumId: 2
          enum:
          - "NORM"
          - "SPECIAL"
          iuEnum:
            code: "GroupRoles"
            name: "Перечень ролей позиций в товарных каталогах"
            valueProp: "iuEnumData"
            keyMapping: "code"
            valueMapping:
              val-id: "val_id"
              name: "Name"
              descr: "Synonym_ru"
          iuEnumData:
            NORM:
              val_id: 1
              Name: "NORM"
              Synonym_ru: "Нормальная"
            SPECIAL:
              val_id: 2
              Name: "SPECIAL"
              Synonym_ru: "Особая"
        listName:
          title: "Наименование товара в данной группе"
          type: "string"
        listChars:
          title: "Характеристики товара в данной категории"
          infoSchema: 0.1
          info:
            title: "Характеристики товарной позиции"
            description: "Перечень атрибутов, использующихся в качестве харктерист\
              ик ТП"
            version: 0.1
            contact:
              name: "Alexander Ostankov"
              email: "aor.48ru@gmail.com"
            summary: "Попытка переосмысления задачи управления номенклатурой через\
              \ использование ISD"
          type: "object"
          properties:
            chColor:
              title: "Цвет"
              type: "string"
            chSize:
              title: "Размер"
              type: "string"
        iuIncludeRest: "listChars"
  variants:
    $anchor: "Variants"
    title: "Варианты товарной позиции"
    type: "array"
    items:
      type: "object"
      properties:
        offerType:
          title: "Вид предложения"
          type: "string"
          enum:
          - "ORDINARY"
          - "ACTION"
          - "CUTPRICE"
        variantStatus:
          title: "Статус варианта ТП"
          type: "string"
          enum:
          - "ONSALE"
          - "OFFSALE"
        keyChars:
          title: "Значения ключевых характеристик"
          description: "Комбинация значений, однозначно идентифицирующих разновидн\
            ость товара для покупателя: размер, цвет и т.п."
          type: "object"
          infoSchema: 0.1
          info:
            title: "Характеристики товарной позиции"
            description: "Перечень атрибутов, использующихся в качестве харктерист\
              ик ТП"
            version: 0.1
            contact:
              name: "Alexander Ostankov"
              email: "aor.48ru@gmail.com"
            summary: "Попытка переосмысления задачи управления номенклатурой через\
              \ использование ISD"
          properties:
            chColor:
              title: "Цвет"
              type: "string"
            chSize:
              title: "Размер"
              type: "string"
        partNo:
          title: "Код товара от производителя"
          type: "string"
        supplier:
          title: "Поставщик товара"
          infoSchema: 0.1
          info:
            title: "Заголовок агрегата"
            description: "Общий набор фиксированных свойств для агрегатов"
            version: 0.1
            contact:
              name: "Alexander Ostankov"
              email: "aor.48ru@gmail.com"
            summary: "Попытка переосмысления задачи управления номенклатурой через\
              \ использование ISD"
          type: "object"
          iuType: "aggregate"
          properties:
            uid:
              title: "Глобальный идентификатор объекта агрегата"
              type: "string"
              format: "uuid"
            name:
              title: "Наименование объекта агрегата (краткое)"
              type: "string"
            code:
              title: "Код объекта агрегата"
              type: "string"
            descr:
              title: "Наименование объекта агрегата (полное)"
              type: "string"
            comm:
              title: "Пояснение к объекту"
              type: "string"
            instanceStatus:
              title: "Статус экземпляра объекта"
              type: "string"
              enum:
              - "DUMMY"
              - "EFFECTIVE"
              - "REMOVED"
            lastChange:
              title: "Момент последнего изменения объекта"
              type: "string"
              format: "timestamp"
            changeSource:
              title: "Источник последнего изменения объекта"
              type: "string"
            priceGroups:
              $anchor: "priceGroup"
              type: "object"
              iuType: "valueMap"
              iuMapKey:
                title: "Код ценовой группы"
                iuName: "priceGroup"
                type: "string"
              iuMapValues:
                type: "object"
                properties:
                  groupName:
                    title: "Наименование ценовой группы"
                    type: "string"
          iuPriKey:
          - "uid"
        articleNo:
          title: "Артикул поставщика"
          type: "string"
        supplPriceGroup:
          title: "Ценовая группа поставщика"
          iuReference:
            iuRefType: "mapEntry"
            iuRefAggrLink: "supplier"
            iuRefElement: "#priceGroup"
        taxGroup:
          title: "Группа налогообложения"
          infoSchema: 0.1
          info:
            title: "Справочник схем налогообложения"
            description: "Значения для атрибута taxGroup"
            version: 0.1
            contact:
              name: "Alexander Ostankov"
              email: "aor.48ru@gmail.com"
            summary: "Попытка переосмысления задачи управления номенклатурой через\
              \ использование ISD"
          type: "string"
          enum:
          - "НДС20"
          - "НДС20_120"
          - "НДС18"
          - "НДС18_118"
          - "НДС10"
          - "НДС10_110"
          - "НДС0"
          - "БезНДС"
          iuEnum:
            iuDomainUid: "4150420f-a24b-43a9-bf32-3df801c3dacc"
            name: "Справочник схем налогообложения"
            valueProp: "iuEnumData"
            valueMapping:
              uid: "uuid"
              name: "Name"
              descr: "Synonym_ru"
          iuEnumData:
            НДС20:
              uuid: "c2577b7d-f008-4f5b-96a7-2e469df2a8df"
              Name: "НДС20"
              Synonym_ru: "20%"
            НДС20_120:
              uuid: "accbc9bd-dcf6-4f36-b751-b731d8b9680e"
              Name: "НДС20_120"
              Synonym_ru: "20% / 120%"
            НДС18:
              uuid: "4bb4dd8d-1fb9-418d-9701-531aae7e29e1"
              Name: "НДС18"
              Synonym_ru: "18%"
            НДС18_118:
              uuid: "01835fd3-5e10-48a1-896e-bdc306e43950"
              Name: "НДС18_118"
              Synonym_ru: "18% / 118%"
            НДС10:
              uuid: "639cb5dc-2233-4948-8c35-d1aa082d09c4"
              Name: "НДС10"
              Synonym_ru: "10%"
            НДС10_110:
              uuid: "cba8ba62-e2ac-4a93-8267-317daeb1c980"
              Name: "НДС10_110"
              Synonym_ru: "10% / 110%"
            НДС0:
              uuid: "6dfd246a-ce8f-4e02-8058-78f21622004e"
              Name: "НДС0"
              Synonym_ru: "0%"
            БезНДС:
              uuid: "c518610d-bf05-41cf-8540-419f4ca125b1"
              Name: "БезНДС"
              Synonym_ru: "Без НДС"
        components:
          $anchor: "components"
          title: "Карта компонентов"
          type: "array"
          items:
            type: "object"
            iuItemName: "componentPos"
            properties:
              component:
                title: "Компонент, входящий в состав варианта"
                iuReference: "self"
              variant:
                title: "Используемый вариант компонента"
                iuReference:
                  iuRefType: "arrayEntry"
                  iuRefAggrLink: "component"
                  iuRefElement: "#Variant"
              quantity:
                title: "Количество на комплект"
                type: "number"
        skuMap:
          $anchor: "skuMap"
          title: "Карта комплектации"
          type: "object"
          iuType: "referenceMap"
          iuRefObject:
            iuName: "SKUItem"
            infoSchema: 0.1
            info:
              title: "Заголовок агрегата"
              description: "Общий набор фиксированных свойств для агрегатов"
              version: 0.1
              contact:
                name: "Alexander Ostankov"
                email: "aor.48ru@gmail.com"
              summary: "Попытка переосмысления задачи управления номенклатурой чер\
                ез использование ISD"
            type: "object"
            iuType: "aggregate"
            properties:
              uid:
                title: "Глобальный идентификатор объекта агрегата"
                type: "string"
                format: "uuid"
              name:
                title: "Наименование объекта агрегата (краткое)"
                type: "string"
              code:
                title: "Код объекта агрегата"
                type: "string"
              descr:
                title: "Наименование объекта агрегата (полное)"
                type: "string"
              comm:
                title: "Пояснение к объекту"
                type: "string"
              instanceStatus:
                title: "Статус экземпляра объекта"
                type: "string"
                enum:
                - "DUMMY"
                - "EFFECTIVE"
                - "REMOVED"
              lastChange:
                title: "Момент последнего изменения объекта"
                type: "string"
                format: "timestamp"
              changeSource:
                title: "Источник последнего изменения объекта"
                type: "string"
              nomenclatureType:
                title: "Вид номенклатуры"
                type: "string"
                enum:
                - "Тип1"
                - "Тип2"
              articleNo:
                title: "Артикул поставщика"
                type: "string"
              baseUOM:
                title: "Базовая единица измерения"
                description: "Единица измерения в которой ведётся учёт товара"
                infoSchema: 0.1
                info:
                  title: "Заголовок агрегата"
                  description: "Общий набор фиксированных свойств для агрегатов"
                  version: 0.1
                  contact:
                    name: "Alexander Ostankov"
                    email: "aor.48ru@gmail.com"
                  summary: "Попытка переосмысления задачи управления номенклатурой\
                    \ через использование ISD"
                type: "object"
                iuType: "aggregate"
                properties:
                  uid:
                    title: "Глобальный идентификатор объекта агрегата"
                    type: "string"
                    format: "uuid"
                  name:
                    title: "Наименование объекта агрегата (краткое)"
                    type: "string"
                  code:
                    title: "Код объекта агрегата"
                    type: "string"
                  descr:
                    title: "Наименование объекта агрегата (полное)"
                    type: "string"
                  comm:
                    title: "Пояснение к объекту"
                    type: "string"
                  instanceStatus:
                    title: "Статус экземпляра объекта"
                    type: "string"
                    enum:
                    - "DUMMY"
                    - "EFFECTIVE"
                    - "REMOVED"
                  lastChange:
                    title: "Момент последнего изменения объекта"
                    type: "string"
                    format: "timestamp"
                  changeSource:
                    title: "Источник последнего изменения объекта"
                    type: "string"
                  baseUOM:
                    title: "Базовая единица измерения"
                    type: "integer"
                    description: "Пересчёт: Одна текущаяЕМ = (Num/Denom) базовыхЕМ"
                    iuReference: "self"
                  baseNum:
                    title: "Числитель пересчёта"
                    type: "number"
                  baseDenom:
                    title: "Знаменатель пересчёта"
                    type: "number"
                iuPriKey:
                - "uid"
              taxGroup:
                title: "Группа налогообложения"
                infoSchema: 0.1
                info:
                  title: "Справочник схем налогообложения"
                  description: "Значения для атрибута taxGroup"
                  version: 0.1
                  contact:
                    name: "Alexander Ostankov"
                    email: "aor.48ru@gmail.com"
                  summary: "Попытка переосмысления задачи управления номенклатурой\
                    \ через использование ISD"
                type: "string"
                enum:
                - "НДС20"
                - "НДС20_120"
                - "НДС18"
                - "НДС18_118"
                - "НДС10"
                - "НДС10_110"
                - "НДС0"
                - "БезНДС"
                iuEnum:
                  iuDomainUid: "4150420f-a24b-43a9-bf32-3df801c3dacc"
                  name: "Справочник схем налогообложения"
                  valueProp: "iuEnumData"
                  valueMapping:
                    uid: "uuid"
                    name: "Name"
                    descr: "Synonym_ru"
                iuEnumData:
                  НДС20:
                    uuid: "c2577b7d-f008-4f5b-96a7-2e469df2a8df"
                    Name: "НДС20"
                    Synonym_ru: "20%"
                  НДС20_120:
                    uuid: "accbc9bd-dcf6-4f36-b751-b731d8b9680e"
                    Name: "НДС20_120"
                    Synonym_ru: "20% / 120%"
                  НДС18:
                    uuid: "4bb4dd8d-1fb9-418d-9701-531aae7e29e1"
                    Name: "НДС18"
                    Synonym_ru: "18%"
                  НДС18_118:
                    uuid: "01835fd3-5e10-48a1-896e-bdc306e43950"
                    Name: "НДС18_118"
                    Synonym_ru: "18% / 118%"
                  НДС10:
                    uuid: "639cb5dc-2233-4948-8c35-d1aa082d09c4"
                    Name: "НДС10"
                    Synonym_ru: "10%"
                  НДС10_110:
                    uuid: "cba8ba62-e2ac-4a93-8267-317daeb1c980"
                    Name: "НДС10_110"
                    Synonym_ru: "10% / 110%"
                  НДС0:
                    uuid: "6dfd246a-ce8f-4e02-8058-78f21622004e"
                    Name: "НДС0"
                    Synonym_ru: "0%"
                  БезНДС:
                    uuid: "c518610d-bf05-41cf-8540-419f4ca125b1"
                    Name: "БезНДС"
                    Synonym_ru: "Без НДС"
            iuPriKey:
            - "uid"
          iuMapValues:
            iuName: "quantity"
            type: "number"
      iuItemName: "varPos"
  pictureMap:
    $anchor: "pictureMap"
    title: "Карта изображений"
    type: "object"
    iuType: "valueMap"
    iuMapKey:
      iuName: "pictureURL"
      title: "URL-фрагмент файла с изображением"
      type: "string"
    iuMapValues:
      type: "object"
      properties:
        viewType:
          title: "Вид изображения"
          type: "string"
          enum:
          - "MAIN"
          - "LEFT"
          - "RIGHT"
        props:
          infoSchema: 0.1
          info:
            title: "Характеристики товарной позиции"
            description: "Перечень атрибутов, использующихся в качестве харктерист\
              ик ТП"
            version: 0.1
            contact:
              name: "Alexander Ostankov"
              email: "aor.48ru@gmail.com"
            summary: "Попытка переосмысления задачи управления номенклатурой через\
              \ использование ISD"
          type: "object"
          properties:
            chColor:
              title: "Цвет"
              type: "string"
            chSize:
              title: "Размер"
              type: "string"
        iuIncludeRest: "props"
  chars:
    title: "Характеристики товара"
    infoSchema: 0.1
    info:
      title: "Характеристики товарной позиции"
      description: "Перечень атрибутов, использующихся в качестве харктеристик ТП"
      version: 0.1
      contact:
        name: "Alexander Ostankov"
        email: "aor.48ru@gmail.com"
      summary: "Попытка переосмысления задачи управления номенклатурой через испол\
        ьзование ISD"
    type: "object"
    properties:
      chColor:
        title: "Цвет"
        type: "string"
      chSize:
        title: "Размер"
        type: "string"
iuPriKey:
- "uid"
